# 太湖资源数据存储、可视化分析平台
#### 项目来源及背景

>本项目来源于陆表生态系统水分胁迫状况监测技术系统集成子课题，项目编号30-Y20A34-9010-15/17，项目分类为国家重大科技专项，项目资金20万元。

>水资源是基础性的自然资源和战略性的经济资源，是经济社会可持续发展以及维系生态平衡的重要基础。在中国，社会经济发展的同时水域环境污染问题也日趋严重。水环境作为生态环境的重要组成，其质量备受关注。传统的水资源数据缺乏统一的平台和数据共享机制，没有一个完整的技术标准，大部分都是相当独立和封闭的系统，且随着信息技术的快速发展，数据的指数级增长导致存储技术也面临巨大的挑战。基于现有的水域管理体制，我们必须开拓新的途径和管理技术以满足水域污染治理和生态恢复的需求。

>本项目对太湖水域的水质、沉积物、PH、钾离子等物理化学元素进行实时监测，对太湖水域各项数据进行分类存储、管理，并通过对这些数据进行统计、分析和预测，简明清晰的生成可视化数据图，为太湖水域污染的治理和环境的改善提供指导。同时，项目将传统的数据独占转变为数据共享，最大化数据的利用率，促进了太湖水域的研究和交流。

#### 相关技术[据可视化技术|分布式存储技术|软件工程|web前端技术]

#### 项目前景

>二十一世纪是信息化、网络化、数字化、智能化蓬勃发展的新世纪。世界范围的新技术革命和知识经济的浪潮，推动发展中国家和发达国家在电子信息技术的创新和应用领域重新站在同一起跑线上，共同面对新的发展机遇和挑战。在当今这个信息化的社会中，谁能更有效地利用自身资源，掌握更全面、更准确的信息，更快地作出科学的决策，谁就能顺应社会的潮流，在激烈的竞争中站稳脚跟，并同时给企业带来更高的回报。地理信息系统（geographic information system，gis）是一种为了获取、存储、检索、分析和显示空间定位数据而建立的计算机化的数据库管理系统。地理信息系统的处理对象是空间实体，其处理过程正是依据空间实体的空间位置与空间关系进行的。地理信息系统具有很高的融合能力，它与其它信息技术融合，拓展了整体信息技术的应用。

>本项目将太湖水域数据信息化，对湖水元素实时监控，进行模拟和预测，并且优化了数据的存储方式，保证了数据的安全性。项目对太湖水域的环境恢复有很好的指导作用，可以加强当地适应气候变化和差异的能力。本项目不仅适用于中国太湖水域，也适用于全球其他水域地区。

#### 项目内容

>本项目在linux平台下设计了一种针对太湖水域数据存储、可视化分析的系统，后台使用nodejs语言和express框架进行架构设计，实现了对水数据信息的监控，同时能对水数据进行分类、存储，可以对数据信息做出预测，对某种元素超标做出预警。

>在数据分析部分，利用支持向量回归算法对水质变量进行预测，采取反向传播（BP）算法作为比较。在获取预测对象的数据后（如透明度等），使用70%的样本作为训练集，其余样本用于测试，预测效果本文采用均方误差作为评价标准，SVR达到0.0178，BP达到0.0437，SVR比BP可获得对透明度的更加准确的预测。

>在数据可视化部分，使用leaflet框架实现地图瓦片图层的加载和处理、地图的移动和缩放、地图标记图层显示以及地图切换等功能，由于leaflet简单、轻量且具有良好的扩展性，因此能够在桌面和移动平台上高效运作。同时项目中也使用echart实现数据可视化显示。Echart是一个纯JavaScript图表库，可以流畅的运行在PC和移动设备上，兼容大部分浏览器，提供直观、生动、可交互、可高度个性化定制的数据可视化图表。

>在数据存储部分，项目使用GeoJSON格式作为数据的存储格式。它是一种对地理数据结构进行编码的格式，结构清晰、表达简介。相比于ESRI的shapefile格式，GeoJSON更加小巧简单，且兼容许多前后端工具。项目中使用mongodb数据库，它是一个基于分布式文件存储的数据库，介于关系数据库和非关系数据库之间，是非关系数据库当中功能最丰富，最像关系数据库的。它支持的数据结构非常松散，是类似json的bson格式，因此可以存储比较复杂的数据类型。Mongo最大的特点是他支持的查询语言非常强大，其语法有点类似于面向对象的查询语言，几乎可以实现类似关系数据库单表查询的绝大部分功能，而且还支持对数据建立索引。由于获取的太湖数据量非常巨大，因此采用分布式存储技术，让存储压力分布在各个节点上，同时采用replica set和sharding技术，保证在一个节点坏掉后能迅速恢复数据，保证数据库的安全运行。

项目最终可以实现：
* 提供实时水资源数据及信息库，保证太湖水域化学元素和物理元素的平衡。
* 对太湖水域进行实时监控和控制。
* 形成一个集成的实时监控、建模和控制系统，利用该系统，指导环境工作。

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t1.jpg)  
>图1   太湖资源数据存储、可视化分析平台架构图

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t2.png)  
>图2   太湖资源数据存储、可视化分析平台预测图

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t3.png)
>图3   太湖资源数据存储、可视化分析平台数据库分布式结构

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t4.png)
>图4   太湖资源数据存储、可视化分析平台主页

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t5.png)
>图5   太湖资源数据存储、可视化分析平台监测点影像图

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t6.png)
>图6   太湖资源数据存储、可视化分析平台监测点地图

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t7.png)
>图7   太湖资源数据存储、可视化分析平台

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t8.png)
>图8   太湖资源数据存储、可视化分析平台边界图

![](https://github.com/tianys6666/Taihu_system/blob/master/image/t9.png)
>图9   太湖资源数据存储、可视化分析平台区域图
